import{S as Xt,i as Qt,s as Gt,F as Wr,k as P,a as se,l as V,m as Y,c as fe,h as b,n as s,T as ke,b as z,C as x,L as qe,G as Rr,H as qr,I as Pr,g as we,d as Ne,M as We,E as It,o as Jt,q as ee,r as te,p as lt,u as Ve,N as Z,O as X,U as dn,R as mr,V as Vr,w as _n,D as Wt,y as vt,e as xe,z as yt,P as Br,A as wt,Q as zr,f as dr,B as bt,v as _r}from"../chunks/index.a4677e45.js";import{H as jr}from"../chunks/global.7a75ec37.js";import{r as pr,d as vr,e as at,c as Zr}from"../chunks/csv.fb08e2f3.js";const Xr=!0,Uo=Object.freeze(Object.defineProperty({__proto__:null,prerender:Xr},Symbol.toStringTag,{value:"Module"}));function pn(e,t,n){const r=e.slice();return r[29]=t[n],r}function vn(e,t,n){const r=e.slice();return r[32]=t[n],r}function yn(e){let t,n,r,i;return{c(){t=P("div"),n=Z("svg"),r=Z("path"),this.h()},l(l){t=V(l,"DIV",{class:!0,title:!0});var o=Y(t);n=X(o,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var u=Y(n);r=X(u,"path",{d:!0,class:!0}),Y(r).forEach(b),u.forEach(b),o.forEach(b),this.h()},h(){s(r,"d",yr),s(r,"class","svelte-smcvhs"),s(n,"class","icon-clear svelte-smcvhs"),s(n,"xmlns","http://www.w3.org/2000/svg"),s(n,"width","18"),s(n,"height","18"),s(n,"viewBox","0 0 24 24"),s(t,"class","token-remove svelte-smcvhs"),s(t,"title",i="Remove "+e[32].name)},m(l,o){z(l,t,o),x(t,n),x(n,r)},p(l,o){o[0]&32&&i!==(i="Remove "+l[32].name)&&s(t,"title",i)},d(l){l&&b(t)}}}function wn(e){let t,n,r=e[32].name+"",i,l,o,u=!e[1]&&yn(e);return{c(){t=P("div"),n=P("span"),i=ee(r),l=se(),u&&u.c(),this.h()},l(a){t=V(a,"DIV",{class:!0,"data-id":!0,style:!0});var f=Y(t);n=V(f,"SPAN",{});var c=Y(n);i=te(c,r),c.forEach(b),l=fe(f),u&&u.l(f),f.forEach(b),this.h()},h(){s(t,"class","token svelte-smcvhs"),s(t,"data-id",o=e[32].value),lt(t,"background-color",e[11](e[32].value)),lt(t,"color",e[12](e[32].value))},m(a,f){z(a,t,f),x(t,n),x(n,i),x(t,l),u&&u.m(t,null)},p(a,f){f[0]&32&&r!==(r=a[32].name+"")&&Ve(i,r),a[1]?u&&(u.d(1),u=null):u?u.p(a,f):(u=yn(a),u.c(),u.m(t,null)),f[0]&32&&o!==(o=a[32].value)&&s(t,"data-id",o),f[0]&32&&lt(t,"background-color",a[11](a[32].value)),f[0]&32&&lt(t,"color",a[12](a[32].value))},d(a){a&&b(t),u&&u.d()}}}function bn(e){let t,n,r,i,l,o,u,a,f,c;return{c(){t=P("input"),n=se(),r=P("div"),i=Z("svg"),l=Z("path"),o=se(),u=Z("svg"),a=Z("path"),this.h()},l(h){t=V(h,"INPUT",{id:!0,autocomplete:!0,placeholder:!0,class:!0}),n=fe(h),r=V(h,"DIV",{class:!0,title:!0});var g=Y(r);i=X(g,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var m=Y(i);l=X(m,"path",{d:!0,class:!0}),Y(l).forEach(b),m.forEach(b),g.forEach(b),o=fe(h),u=X(h,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0});var p=Y(u);a=X(p,"path",{d:!0,class:!0}),Y(a).forEach(b),p.forEach(b),this.h()},h(){s(t,"id",e[0]),s(t,"autocomplete","off"),s(t,"placeholder",e[2]),s(t,"class","svelte-smcvhs"),s(l,"d",yr),s(l,"class","svelte-smcvhs"),s(i,"class","icon-clear svelte-smcvhs"),s(i,"xmlns","http://www.w3.org/2000/svg"),s(i,"width","18"),s(i,"height","18"),s(i,"viewBox","0 0 24 24"),s(r,"class","remove-all svelte-smcvhs"),s(r,"title","Remove All"),ke(r,"hidden",!Object.keys(e[5]).length),s(a,"d","M5 8l4 4 4-4z"),s(a,"class","svelte-smcvhs"),s(u,"class","dropdown-arrow svelte-smcvhs"),s(u,"xmlns","http://www.w3.org/2000/svg"),s(u,"width","18"),s(u,"height","18"),s(u,"viewBox","0 0 18 18")},m(h,g){z(h,t,g),dn(t,e[3]),e[22](t),z(h,n,g),z(h,r,g),x(r,i),x(i,l),z(h,o,g),z(h,u,g),x(u,a),f||(c=[qe(t,"input",e[21]),qe(t,"keyup",e[10]),qe(t,"blur",e[13])],f=!0)},p(h,g){g[0]&1&&s(t,"id",h[0]),g[0]&4&&s(t,"placeholder",h[2]),g[0]&8&&t.value!==h[3]&&dn(t,h[3]),g[0]&32&&ke(r,"hidden",!Object.keys(h[5]).length)},d(h){h&&b(t),e[22](null),h&&b(n),h&&b(r),h&&b(o),h&&b(u),f=!1,mr(c)}}}function Mn(e){let t,n,r,i=e[6],l=[];for(let o=0;o<i.length;o+=1)l[o]=kn(pn(e,i,o));return{c(){t=P("ul");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){t=V(o,"UL",{class:!0});var u=Y(t);for(let a=0;a<l.length;a+=1)l[a].l(u);u.forEach(b),this.h()},h(){s(t,"class","options svelte-smcvhs")},m(o,u){z(o,t,u);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(t,null);n||(r=qe(t,"mousedown",Vr(e[15])),n=!0)},p(o,u){if(u[0]&112){i=o[6];let a;for(a=0;a<i.length;a+=1){const f=pn(o,i,a);l[a]?l[a].p(f,u):(l[a]=kn(f),l[a].c(),l[a].m(t,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=i.length}},d(o){o&&b(t),We(l,o),n=!1,r()}}}function kn(e){let t,n=e[29].name+"",r,i;return{c(){t=P("li"),r=ee(n),this.h()},l(l){t=V(l,"LI",{"data-value":!0,class:!0});var o=Y(t);r=te(o,n),o.forEach(b),this.h()},h(){s(t,"data-value",i=e[29].value),s(t,"class","svelte-smcvhs"),ke(t,"selected",e[5][e[29].value]),ke(t,"active",e[4]===e[29])},m(l,o){z(l,t,o),x(t,r)},p(l,o){o[0]&64&&n!==(n=l[29].name+"")&&Ve(r,n),o[0]&64&&i!==(i=l[29].value)&&s(t,"data-value",i),o[0]&96&&ke(t,"selected",l[5][l[29].value]),o[0]&80&&ke(t,"active",l[4]===l[29])},d(l){l&&b(t)}}}function Qr(e){let t,n,r,i,l,o,u,a,f,c,h=Object.values(e[5]),g=[];for(let k=0;k<h.length;k+=1)g[k]=wn(vn(e,h,k));let m=!e[1]&&bn(e);const p=e[20].default,d=Wr(p,e,e[19],null);let y=e[8]&&Mn(e);return{c(){t=P("div"),n=P("div");for(let k=0;k<g.length;k+=1)g[k].c();r=se(),i=P("div"),m&&m.c(),l=se(),o=P("select"),d&&d.c(),u=se(),y&&y.c(),this.h()},l(k){t=V(k,"DIV",{class:!0});var T=Y(t);n=V(T,"DIV",{class:!0});var S=Y(n);for(let C=0;C<g.length;C+=1)g[C].l(S);r=fe(S),i=V(S,"DIV",{class:!0});var A=Y(i);m&&m.l(A),A.forEach(b),S.forEach(b),l=fe(T),o=V(T,"SELECT",{type:!0,class:!0});var K=Y(o);d&&d.l(K),K.forEach(b),u=fe(T),y&&y.l(T),T.forEach(b),this.h()},h(){s(i,"class","actions svelte-smcvhs"),s(n,"class","tokens svelte-smcvhs"),ke(n,"showOptions",e[8]),s(o,"type","multiple"),s(o,"class","hidden svelte-smcvhs"),s(t,"class","multiselect svelte-smcvhs"),ke(t,"readonly",e[1])},m(k,T){z(k,t,T),x(t,n);for(let S=0;S<g.length;S+=1)g[S]&&g[S].m(n,null);x(n,r),x(n,i),m&&m.m(i,null),x(t,l),x(t,o),d&&d.m(o,null),e[23](o),x(t,u),y&&y.m(t,null),a=!0,f||(c=qe(n,"click",e[14]),f=!0)},p(k,T){if(T[0]&6178){h=Object.values(k[5]);let S;for(S=0;S<h.length;S+=1){const A=vn(k,h,S);g[S]?g[S].p(A,T):(g[S]=wn(A),g[S].c(),g[S].m(n,r))}for(;S<g.length;S+=1)g[S].d(1);g.length=h.length}k[1]?m&&(m.d(1),m=null):m?m.p(k,T):(m=bn(k),m.c(),m.m(i,null)),(!a||T[0]&256)&&ke(n,"showOptions",k[8]),d&&d.p&&(!a||T[0]&524288)&&Rr(d,p,k,k[19],a?Pr(p,k[19],T,null):qr(k[19]),null),k[8]?y?y.p(k,T):(y=Mn(k),y.c(),y.m(t,null)):y&&(y.d(1),y=null),(!a||T[0]&2)&&ke(t,"readonly",k[1])},i(k){a||(we(d,k),a=!0)},o(k){Ne(d,k),a=!1},d(k){k&&b(t),We(g,k),m&&m.d(),d&&d.d(k),e[23](null),y&&y.d(),f=!1,c()}}}const yr="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z";function Gr(e,t,n){let r,i;It(e,pr,M=>n(24,i=M));let{$$slots:l={},$$scope:o}=t,{id:u=""}=t,{value:a=[]}=t,{readonly:f=!1}=t,{placeholder:c=" Select cities..."}=t,h,g,m=[],p,d=!1,y={},k=!0,T;const S=i;Jt(()=>{T.querySelectorAll("option").forEach(M=>{M.selected&&!a.includes(M.value)&&n(16,a=[...a,M.value]),n(17,m=[...m,{value:M.value,name:M.textContent}])}),a&&n(5,y=m.reduce((M,G)=>a.includes(G.value)?{...M,[G.value]:G}:M,{})),n(18,k=!1)});function A(M){f||n(5,y[M.value]=M,y)}function K(M){if(!f){const{[M]:G,...ne}=y;n(5,y=ne)}}function C(M){f||(typeof M=="boolean"?(n(8,d=M),M&&h.focus()):n(8,d=!d),d||n(4,p=void 0))}function Q(M){if(M.keyCode===13&&(Object.keys(y).includes(p.value)?K(p.value):A(p),n(3,g="")),[38,40].includes(M.keyCode)){const G=M.keyCode===38?-1:1,ne=r.indexOf(p)+G;n(4,p=ne<0?r[r.length-1]:ne===r.length?r[0]:r[ne])}}function oe(M){return S.find(G=>G.name===at.filter(ne=>ne.display_title===M)[0].region).colour}function _e(M){return S.find(G=>G.name===at.filter(ne=>ne.display_title===M)[0].region).text}function ce(M){C(!1)}function Ce(M){M.target.closest(".token-remove")?(M.stopPropagation(),K(M.target.closest(".token").dataset.id)):M.target.closest(".remove-all")?(n(5,y=[]),n(3,g="")):C(!0)}function De(M){const G=M.target.dataset.value;y[G]?K(G):(A(m.filter(ne=>ne.value===G)[0]),h.focus())}function J(){g=this.value,n(3,g)}function de(M){_n[M?"unshift":"push"](()=>{h=M,n(7,h)})}function ae(M){_n[M?"unshift":"push"](()=>{T=M,n(9,T)})}return e.$$set=M=>{"id"in M&&n(0,u=M.id),"value"in M&&n(16,a=M.value),"readonly"in M&&n(1,f=M.readonly),"placeholder"in M&&n(2,c=M.placeholder),"$$scope"in M&&n(19,o=M.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&262176&&(k||n(16,a=Object.values(y).map(M=>M.value))),e.$$.dirty[0]&131080&&n(6,r=m.filter(M=>g?M.name.toLowerCase().includes(g.toLowerCase()):M)),e.$$.dirty[0]&88&&(p&&!r.includes(p)||!p&&g)&&n(4,p=r[0]),e.$$.dirty[0]&65536&&vr.set(a)},[u,f,c,g,p,y,r,h,d,T,Q,oe,_e,ce,Ce,De,a,m,k,o,l,J,de,ae]}class Jr extends Xt{constructor(t){super(),Qt(this,t,Gr,Qr,Gt,{id:0,value:16,readonly:1,placeholder:2},null,[-1,-1])}}function xn(e){let t,n;return{c(){t=Z("text"),n=ee(e[7]),this.h()},l(r){t=X(r,"text",{x:!0,y:!0,"alignment-baseline":!0,"font-size":!0,fill:!0});var i=Y(t);n=te(i,e[7]),i.forEach(b),this.h()},h(){s(t,"x",Ke+3),s(t,"y",Se),s(t,"alignment-baseline","middle"),s(t,"font-size","14"),s(t,"fill",e[5])},m(r,i){z(r,t,i),x(t,n)},p(r,i){i&128&&Ve(n,r[7]),i&32&&s(t,"fill",r[5])},d(r){r&&b(t)}}}function Kr(e){let t,n,r,i,l,o,u,a,f,c=e[3]!==void 0?": "+e[3].toLocaleString():"",h,g,m,p=e[7]!==void 0&&xn(e);return{c(){t=Z("svg"),n=Z("rect"),p&&p.c(),i=Z("g"),l=Z("line"),a=Z("text"),f=ee(e[2]),h=ee(c),this.h()},l(d){t=X(d,"svg",{x:!0,y:!0,width:!0,height:!0,id:!0});var y=Y(t);n=X(y,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,opacity:!0}),Y(n).forEach(b),p&&p.l(y),i=X(y,"g",{});var k=Y(i);l=X(k,"line",{x1:!0,x2:!0,y1:!0,y2:!0}),Y(l).forEach(b),a=X(k,"text",{x:!0,y:!0,"alignment-baseline":!0,"font-size":!0,fill:!0,class:!0});var T=Y(a);f=te(T,e[2]),h=te(T,c),T.forEach(b),k.forEach(b),y.forEach(b),this.h()},h(){s(n,"x","1"),s(n,"y","1"),s(n,"width",e[8]),s(n,"height",r=(e[2].length+1+(e[7]!==void 0?1:0))*Se),s(n,"fill",e[4]),s(n,"opacity",e[6]),s(l,"x1",Ke),s(l,"x2",Ke+Mt),s(l,"y1",o=(1+(e[7]!==void 0?1:0))*Se-1),s(l,"y2",u=(1+(e[7]!==void 0?1:0))*Se-1),s(a,"x",Ke+Mt+Rt),s(a,"y",g=(1+(e[7]!==void 0?1:0))*Se),s(a,"alignment-baseline","middle"),s(a,"font-size","14"),s(a,"fill",e[5]),s(a,"class","legend-labels"),s(t,"x",e[0]),s(t,"y",e[1]),s(t,"width",m=e[8]+2),s(t,"height","25"),s(t,"id",wr)},m(d,y){z(d,t,y),x(t,n),p&&p.m(t,null),x(t,i),x(i,l),x(i,a),x(a,f),x(a,h)},p(d,[y]){y&256&&s(n,"width",d[8]),y&132&&r!==(r=(d[2].length+1+(d[7]!==void 0?1:0))*Se)&&s(n,"height",r),y&16&&s(n,"fill",d[4]),y&64&&s(n,"opacity",d[6]),d[7]!==void 0?p?p.p(d,y):(p=xn(d),p.c(),p.m(t,i)):p&&(p.d(1),p=null),y&128&&o!==(o=(1+(d[7]!==void 0?1:0))*Se-1)&&s(l,"y1",o),y&128&&u!==(u=(1+(d[7]!==void 0?1:0))*Se-1)&&s(l,"y2",u),y&4&&Ve(f,d[2]),y&8&&c!==(c=d[3]!==void 0?": "+d[3].toLocaleString():"")&&Ve(h,c),y&128&&g!==(g=(1+(d[7]!==void 0?1:0))*Se)&&s(a,"y",g),y&32&&s(a,"fill",d[5]),y&1&&s(t,"x",d[0]),y&2&&s(t,"y",d[1]),y&256&&m!==(m=d[8]+2)&&s(t,"width",m)},i:Wt,o:Wt,d(d){d&&b(t),p&&p.d()}}}const Se=18,Ke=5,Tn=5,Mt=10,Rt=3,wr="svg-legend";function $r(e,t,n){let{x:r}=t,{y:i}=t,{labels:l}=t,{values:o}=t,{width:u=150}=t,{backgroundColor:a="white"}=t,{textColor:f="black"}=t,{opacity:c=.89}=t,{title:h}=t,{adaptTexts:g=!0}=t;const m=u-Ke-Mt-Rt-Tn;let p=u;return Jt(async()=>{const d=document.getElementById(wr).getElementsByClassName("legend-labels"),k=[...Array(d.length).keys()].map(T=>({id:T,width:d[T].getBoundingClientRect().width})).filter(T=>T.width>m);if(k.length!==0)if(g)k.map(T=>{const S=d[T.id].textContent,A=Math.floor(m*S.length/T.width)-3;d[T.id].textContent=S.slice(0,A).trim()+"..."});else{const T=Math.max(...k.map(S=>S.width));n(8,p=Ke+Mt+Rt+T+Tn)}}),e.$$set=d=>{"x"in d&&n(0,r=d.x),"y"in d&&n(1,i=d.y),"labels"in d&&n(2,l=d.labels),"values"in d&&n(3,o=d.values),"width"in d&&n(9,u=d.width),"backgroundColor"in d&&n(4,a=d.backgroundColor),"textColor"in d&&n(5,f=d.textColor),"opacity"in d&&n(6,c=d.opacity),"title"in d&&n(7,h=d.title),"adaptTexts"in d&&n(10,g=d.adaptTexts)},[r,i,l,o,a,f,c,h,p,u,g]}class Cn extends Xt{constructor(t){super(),Qt(this,t,$r,Kr,Gt,{x:0,y:1,labels:2,values:3,width:9,backgroundColor:4,textColor:5,opacity:6,title:7,adaptTexts:10})}}function pt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ei(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kt(e){let t,n,r;e.length!==2?(t=pt,n=(u,a)=>pt(e(u),a),r=(u,a)=>e(u)-a):(t=e===pt||e===ei?e:ti,n=e,r=e);function i(u,a,f=0,c=u.length){if(f<c){if(t(a,a)!==0)return c;do{const h=f+c>>>1;n(u[h],a)<0?f=h+1:c=h}while(f<c)}return f}function l(u,a,f=0,c=u.length){if(f<c){if(t(a,a)!==0)return c;do{const h=f+c>>>1;n(u[h],a)<=0?f=h+1:c=h}while(f<c)}return f}function o(u,a,f=0,c=u.length){const h=i(u,a,f,c-1);return h>f&&r(u[h-1],a)>-r(u[h],a)?h-1:h}return{left:i,center:o,right:l}}function ti(){return 0}function ni(e){return e===null?NaN:+e}const ri=Kt(pt),ii=ri.right;Kt(ni).center;const li=ii;function Nt(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let l of e)(l=t(l,++i,e))!=null&&(n===void 0?l>=l&&(n=r=l):(n>l&&(n=l),r<l&&(r=l)))}return[n,r]}class qt extends Map{constructor(t,n=ui){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Dn(this,t))}has(t){return super.has(Dn(this,t))}set(t,n){return super.set(oi(this,t),n)}delete(t){return super.delete(ai(this,t))}}function Dn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function oi({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ai({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ui(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Un(e){return e}function si(e,...t){return fi(e,Un,Un,t)}function fi(e,t,n,r){return function i(l,o){if(o>=r.length)return n(l);const u=new qt,a=r[o++];let f=-1;for(const c of l){const h=a(c,++f,l),g=u.get(h);g?g.push(c):u.set(h,[c])}for(const[c,h]of u)u.set(c,i(h,o));return t(u)}(e,0)}const ci=Math.sqrt(50),hi=Math.sqrt(10),gi=Math.sqrt(2);function br(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),l=r/Math.pow(10,i),o=l>=ci?10:l>=hi?5:l>=gi?2:1;let u,a,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(e*f),a=Math.round(t*f),u/f<e&&++u,a/f>t&&--a,f=-f):(f=Math.pow(10,i)*o,u=Math.round(e/f),a=Math.round(t/f),u*f<e&&++u,a*f>t&&--a),a<u&&.5<=n&&n<2?br(e,t,n*2):[u,a,f]}function Sn(e,t,n){return t=+t,e=+e,n=+n,br(e,t,n)[2]}function Nn(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Sn(t,e,n):Sn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function $t(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Mr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ct(){}var ut=.7,kt=1/ut,$e="\\s*([+-]?\\d+)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mi=/^#([0-9a-f]{3,8})$/,di=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),_i=new RegExp(`^rgb\\(${Te},${Te},${Te}\\)$`),pi=new RegExp(`^rgba\\(${$e},${$e},${$e},${st}\\)$`),vi=new RegExp(`^rgba\\(${Te},${Te},${Te},${st}\\)$`),yi=new RegExp(`^hsl\\(${st},${Te},${Te}\\)$`),wi=new RegExp(`^hsla\\(${st},${Te},${Te},${st}\\)$`),En={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$t(ct,ft,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yn,formatHex:Yn,formatHex8:bi,formatHsl:Mi,formatRgb:An,toString:An});function Yn(){return this.rgb().formatHex()}function bi(){return this.rgb().formatHex8()}function Mi(){return kr(this).formatHsl()}function An(){return this.rgb().formatRgb()}function ft(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=mi.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Fn(t):n===3?new me(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=di.exec(e))?new me(t[1],t[2],t[3],1):(t=_i.exec(e))?new me(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pi.exec(e))?dt(t[1],t[2],t[3],t[4]):(t=vi.exec(e))?dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yi.exec(e))?On(t[1],t[2]/100,t[3]/100,1):(t=wi.exec(e))?On(t[1],t[2]/100,t[3]/100,t[4]):En.hasOwnProperty(e)?Fn(En[e]):e==="transparent"?new me(NaN,NaN,NaN,0):null}function Fn(e){return new me(e>>16&255,e>>8&255,e&255,1)}function dt(e,t,n,r){return r<=0&&(e=t=n=NaN),new me(e,t,n,r)}function ki(e){return e instanceof ct||(e=ft(e)),e?(e=e.rgb(),new me(e.r,e.g,e.b,e.opacity)):new me}function Pt(e,t,n,r){return arguments.length===1?ki(e):new me(e,t,n,r??1)}function me(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}$t(me,Pt,Mr(ct,{brighter(e){return e=e==null?kt:Math.pow(kt,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ut:Math.pow(ut,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new me(Pe(this.r),Pe(this.g),Pe(this.b),xt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hn,formatHex:Hn,formatHex8:xi,formatRgb:Ln,toString:Ln}));function Hn(){return`#${Re(this.r)}${Re(this.g)}${Re(this.b)}`}function xi(){return`#${Re(this.r)}${Re(this.g)}${Re(this.b)}${Re((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ln(){const e=xt(this.opacity);return`${e===1?"rgb(":"rgba("}${Pe(this.r)}, ${Pe(this.g)}, ${Pe(this.b)}${e===1?")":`, ${e})`}`}function xt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Re(e){return e=Pe(e),(e<16?"0":"")+e.toString(16)}function On(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new be(e,t,n,r)}function kr(e){if(e instanceof be)return new be(e.h,e.s,e.l,e.opacity);if(e instanceof ct||(e=ft(e)),!e)return new be;if(e instanceof be)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),l=Math.max(t,n,r),o=NaN,u=l-i,a=(l+i)/2;return u?(t===l?o=(n-r)/u+(n<r)*6:n===l?o=(r-t)/u+2:o=(t-n)/u+4,u/=a<.5?l+i:2-l-i,o*=60):u=a>0&&a<1?0:o,new be(o,u,a,e.opacity)}function Ti(e,t,n,r){return arguments.length===1?kr(e):new be(e,t,n,r??1)}function be(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}$t(be,Ti,Mr(ct,{brighter(e){return e=e==null?kt:Math.pow(kt,e),new be(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ut:Math.pow(ut,e),new be(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new me(Et(e>=240?e-240:e+120,i,r),Et(e,i,r),Et(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new be(In(this.h),_t(this.s),_t(this.l),xt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xt(this.opacity);return`${e===1?"hsl(":"hsla("}${In(this.h)}, ${_t(this.s)*100}%, ${_t(this.l)*100}%${e===1?")":`, ${e})`}`}}));function In(e){return e=(e||0)%360,e<0?e+360:e}function _t(e){return Math.max(0,Math.min(1,e||0))}function Et(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const en=e=>()=>e;function Ci(e,t){return function(n){return e+n*t}}function Di(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ui(e){return(e=+e)==1?xr:function(t,n){return n-t?Di(t,n,e):en(isNaN(t)?n:t)}}function xr(e,t){var n=t-e;return n?Ci(e,n):en(isNaN(e)?t:e)}const Wn=function e(t){var n=Ui(t);function r(i,l){var o=n((i=Pt(i)).r,(l=Pt(l)).r),u=n(i.g,l.g),a=n(i.b,l.b),f=xr(i.opacity,l.opacity);return function(c){return i.r=o(c),i.g=u(c),i.b=a(c),i.opacity=f(c),i+""}}return r.gamma=e,r}(1);function Si(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(l){for(i=0;i<n;++i)r[i]=e[i]*(1-l)+t[i]*l;return r}}function Ni(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ei(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),l=new Array(n),o;for(o=0;o<r;++o)i[o]=tn(e[o],t[o]);for(;o<n;++o)l[o]=t[o];return function(u){for(o=0;o<r;++o)l[o]=i[o](u);return l}}function Yi(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Tt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ai(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=tn(e[i],t[i]):r[i]=t[i];return function(l){for(i in n)r[i]=n[i](l);return r}}var Vt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yt=new RegExp(Vt.source,"g");function Fi(e){return function(){return e}}function Hi(e){return function(t){return e(t)+""}}function Li(e,t){var n=Vt.lastIndex=Yt.lastIndex=0,r,i,l,o=-1,u=[],a=[];for(e=e+"",t=t+"";(r=Vt.exec(e))&&(i=Yt.exec(t));)(l=i.index)>n&&(l=t.slice(n,l),u[o]?u[o]+=l:u[++o]=l),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,a.push({i:o,x:Tt(r,i)})),n=Yt.lastIndex;return n<t.length&&(l=t.slice(n),u[o]?u[o]+=l:u[++o]=l),u.length<2?a[0]?Hi(a[0].x):Fi(t):(t=a.length,function(f){for(var c=0,h;c<t;++c)u[(h=a[c]).i]=h.x(f);return u.join("")})}function tn(e,t){var n=typeof t,r;return t==null||n==="boolean"?en(t):(n==="number"?Tt:n==="string"?(r=ft(t))?(t=r,Wn):Li:t instanceof ft?Wn:t instanceof Date?Yi:Ni(t)?Si:Array.isArray(t)?Ei:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ai:Tt)(e,t)}function Oi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}const Bt=Math.PI,zt=2*Bt,Ie=1e-6,Ii=zt-Ie;function Tr(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Wi(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Tr;const n=10**t;return function(r){this._+=r[0];for(let i=1,l=r.length;i<l;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ri{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Tr:Wi(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,l,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+l},${this._y1=+o}`}arcTo(t,n,r,i,l){if(t=+t,n=+n,r=+r,i=+i,l=+l,l<0)throw new Error(`negative radius: ${l}`);let o=this._x1,u=this._y1,a=r-t,f=i-n,c=o-t,h=u-n,g=c*c+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Ie)if(!(Math.abs(h*a-f*c)>Ie)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,p=i-u,d=a*a+f*f,y=m*m+p*p,k=Math.sqrt(d),T=Math.sqrt(g),S=l*Math.tan((Bt-Math.acos((d+g-y)/(2*k*T)))/2),A=S/T,K=S/k;Math.abs(A-1)>Ie&&this._append`L${t+A*c},${n+A*h}`,this._append`A${l},${l},0,0,${+(h*m>c*p)},${this._x1=t+K*a},${this._y1=n+K*f}`}}arc(t,n,r,i,l,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),a=r*Math.sin(i),f=t+u,c=n+a,h=1^o,g=o?i-l:l-i;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>Ie||Math.abs(this._y1-c)>Ie)&&this._append`L${f},${c}`,r&&(g<0&&(g=g%zt+zt),g>Ii?this._append`A${r},${r},0,1,${h},${t-u},${n-a}A${r},${r},0,1,${h},${this._x1=f},${this._y1=c}`:g>Ie&&this._append`A${r},${r},0,${+(g>=Bt)},${h},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Cr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Rn=Symbol("implicit");function Dr(){var e=new qt,t=[],n=[],r=Rn;function i(l){let o=e.get(l);if(o===void 0){if(r!==Rn)return r;e.set(l,o=t.push(l)-1)}return n[o%n.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new qt;for(const o of l)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(l){return arguments.length?(n=Array.from(l),i):n.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.copy=function(){return Dr(t,n).unknown(r)},Cr.apply(i,arguments),i}function qi(e){return function(){return e}}function Pi(e){return+e}var qn=[0,1];function Ge(e){return e}function jt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:qi(isNaN(t)?NaN:.5)}function Vi(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Bi(e,t,n){var r=e[0],i=e[1],l=t[0],o=t[1];return i<r?(r=jt(i,r),l=n(o,l)):(r=jt(r,i),l=n(l,o)),function(u){return l(r(u))}}function zi(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),l=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=jt(e[o],e[o+1]),l[o]=n(t[o],t[o+1]);return function(u){var a=li(e,u,1,r)-1;return l[a](i[a](u))}}function ji(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zi(){var e=qn,t=qn,n=tn,r,i,l,o=Ge,u,a,f;function c(){var g=Math.min(e.length,t.length);return o!==Ge&&(o=Vi(e[0],e[g-1])),u=g>2?zi:Bi,a=f=null,h}function h(g){return g==null||isNaN(g=+g)?l:(a||(a=u(e.map(r),t,n)))(r(o(g)))}return h.invert=function(g){return o(i((f||(f=u(t,e.map(r),Tt)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,Pi),c()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),c()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),n=Oi,c()},h.clamp=function(g){return arguments.length?(o=g?!0:Ge,c()):o!==Ge},h.interpolate=function(g){return arguments.length?(n=g,c()):n},h.unknown=function(g){return arguments.length?(l=g,h):l},function(g,m){return r=g,i=m,c()}}function Xi(){return Zi()(Ge,Ge)}function Qi(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],l=e[r],o;return l<i&&(o=n,n=r,r=o,o=i,i=l,l=o),e[n]=t.floor(i),e[r]=t.ceil(l),e}const At=new Date,Ft=new Date;function re(e,t,n,r){function i(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return i.floor=l=>(e(l=new Date(+l)),l),i.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),i.round=l=>{const o=i(l),u=i.ceil(l);return l-o<u-l?o:u},i.offset=(l,o)=>(t(l=new Date(+l),o==null?1:Math.floor(o)),l),i.range=(l,o,u)=>{const a=[];if(l=i.ceil(l),u=u==null?1:Math.floor(u),!(l<o)||!(u>0))return a;let f;do a.push(f=new Date(+l)),t(l,u),e(l);while(f<l&&l<o);return a},i.filter=l=>re(o=>{if(o>=o)for(;e(o),!l(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!l(o););else for(;--u>=0;)for(;t(o,1),!l(o););}),n&&(i.count=(l,o)=>(At.setTime(+l),Ft.setTime(+o),e(At),e(Ft),Math.floor(n(At,Ft))),i.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?i.filter(r?o=>r(o)%l===0:o=>i.count(0,o)%l===0):i)),i}const Ct=re(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ct.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?re(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ct);Ct.range;const Ee=1e3,ye=Ee*60,Ye=ye*60,Ae=Ye*24,nn=Ae*7,Pn=Ae*30,Ht=Ae*365,Je=re(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ee)},(e,t)=>(t-e)/Ee,e=>e.getUTCSeconds());Je.range;const rn=re(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ee)},(e,t)=>{e.setTime(+e+t*ye)},(e,t)=>(t-e)/ye,e=>e.getMinutes());rn.range;const Gi=re(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ye)},(e,t)=>(t-e)/ye,e=>e.getUTCMinutes());Gi.range;const ln=re(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ee-e.getMinutes()*ye)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getHours());ln.range;const Ji=re(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getUTCHours());Ji.range;const ht=re(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ye)/Ae,e=>e.getDate()-1);ht.range;const on=re(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ae,e=>e.getUTCDate()-1);on.range;const Ki=re(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ae,e=>Math.floor(e/Ae));Ki.range;function ze(e){return re(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ye)/nn)}const St=ze(0),Dt=ze(1),$i=ze(2),el=ze(3),et=ze(4),tl=ze(5),nl=ze(6);St.range;Dt.range;$i.range;el.range;et.range;tl.range;nl.range;function je(e){return re(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/nn)}const Ur=je(0),Ut=je(1),rl=je(2),il=je(3),tt=je(4),ll=je(5),ol=je(6);Ur.range;Ut.range;rl.range;il.range;tt.range;ll.range;ol.range;const an=re(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());an.range;const al=re(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());al.range;const Fe=re(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fe.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:re(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Fe.range;const Be=re(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Be.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:re(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Be.range;function ul(e,t,n,r,i,l){const o=[[Je,1,Ee],[Je,5,5*Ee],[Je,15,15*Ee],[Je,30,30*Ee],[l,1,ye],[l,5,5*ye],[l,15,15*ye],[l,30,30*ye],[i,1,Ye],[i,3,3*Ye],[i,6,6*Ye],[i,12,12*Ye],[r,1,Ae],[r,2,2*Ae],[n,1,nn],[t,1,Pn],[t,3,3*Pn],[e,1,Ht]];function u(f,c,h){const g=c<f;g&&([f,c]=[c,f]);const m=h&&typeof h.range=="function"?h:a(f,c,h),p=m?m.range(f,+c+1):[];return g?p.reverse():p}function a(f,c,h){const g=Math.abs(c-f)/h,m=Kt(([,,y])=>y).right(o,g);if(m===o.length)return e.every(Nn(f/Ht,c/Ht,h));if(m===0)return Ct.every(Math.max(Nn(f,c,h),1));const[p,d]=o[g/o[m-1][2]<o[m][2]/g?m-1:m];return p.every(d)}return[u,a]}const[sl,fl]=ul(Fe,an,St,ht,ln,rn);function Lt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ot(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cl(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,l=e.days,o=e.shortDays,u=e.months,a=e.shortMonths,f=rt(i),c=it(i),h=rt(l),g=it(l),m=rt(o),p=it(o),d=rt(u),y=it(u),k=rt(a),T=it(a),S={a:G,A:ne,b:pe,B:N,c:null,d:Xn,e:Xn,f:Fl,g:Bl,G:jl,H:El,I:Yl,j:Al,L:Sr,m:Hl,M:Ll,p:E,q,Q:Jn,s:Kn,S:Ol,u:Il,U:Wl,V:Rl,w:ql,W:Pl,x:null,X:null,y:Vl,Y:zl,Z:Zl,"%":Gn},A={a:le,A:he,b:He,B:Le,c:null,d:Qn,e:Qn,f:Jl,g:ao,G:so,H:Xl,I:Ql,j:Gl,L:Er,m:Kl,M:$l,p:ve,q:Ue,Q:Jn,s:Kn,S:eo,u:to,U:no,V:ro,w:io,W:lo,x:null,X:null,y:oo,Y:uo,Z:fo,"%":Gn},K={a:ce,A:Ce,b:De,B:J,c:de,d:jn,e:jn,f:Dl,g:zn,G:Bn,H:Zn,I:Zn,j:kl,L:Cl,m:Ml,M:xl,p:_e,q:bl,Q:Sl,s:Nl,S:Tl,u:_l,U:pl,V:vl,w:dl,W:yl,x:ae,X:M,y:zn,Y:Bn,Z:wl,"%":Ul};S.x=C(n,S),S.X=C(r,S),S.c=C(t,S),A.x=C(n,A),A.X=C(r,A),A.c=C(t,A);function C(w,U){return function(F){var _=[],I=-1,L=0,R=w.length,$,B,Me;for(F instanceof Date||(F=new Date(+F));++I<R;)w.charCodeAt(I)===37&&(_.push(w.slice(L,I)),(B=Vn[$=w.charAt(++I)])!=null?$=w.charAt(++I):B=$==="e"?" ":"0",(Me=U[$])&&($=Me(F,B)),_.push($),L=I+1);return _.push(w.slice(L,I)),_.join("")}}function Q(w,U){return function(F){var _=nt(1900,void 0,1),I=oe(_,w,F+="",0),L,R;if(I!=F.length)return null;if("Q"in _)return new Date(_.Q);if("s"in _)return new Date(_.s*1e3+("L"in _?_.L:0));if(U&&!("Z"in _)&&(_.Z=0),"p"in _&&(_.H=_.H%12+_.p*12),_.m===void 0&&(_.m="q"in _?_.q:0),"V"in _){if(_.V<1||_.V>53)return null;"w"in _||(_.w=1),"Z"in _?(L=Ot(nt(_.y,0,1)),R=L.getUTCDay(),L=R>4||R===0?Ut.ceil(L):Ut(L),L=on.offset(L,(_.V-1)*7),_.y=L.getUTCFullYear(),_.m=L.getUTCMonth(),_.d=L.getUTCDate()+(_.w+6)%7):(L=Lt(nt(_.y,0,1)),R=L.getDay(),L=R>4||R===0?Dt.ceil(L):Dt(L),L=ht.offset(L,(_.V-1)*7),_.y=L.getFullYear(),_.m=L.getMonth(),_.d=L.getDate()+(_.w+6)%7)}else("W"in _||"U"in _)&&("w"in _||(_.w="u"in _?_.u%7:"W"in _?1:0),R="Z"in _?Ot(nt(_.y,0,1)).getUTCDay():Lt(nt(_.y,0,1)).getDay(),_.m=0,_.d="W"in _?(_.w+6)%7+_.W*7-(R+5)%7:_.w+_.U*7-(R+6)%7);return"Z"in _?(_.H+=_.Z/100|0,_.M+=_.Z%100,Ot(_)):Lt(_)}}function oe(w,U,F,_){for(var I=0,L=U.length,R=F.length,$,B;I<L;){if(_>=R)return-1;if($=U.charCodeAt(I++),$===37){if($=U.charAt(I++),B=K[$ in Vn?U.charAt(I++):$],!B||(_=B(w,F,_))<0)return-1}else if($!=F.charCodeAt(_++))return-1}return _}function _e(w,U,F){var _=f.exec(U.slice(F));return _?(w.p=c.get(_[0].toLowerCase()),F+_[0].length):-1}function ce(w,U,F){var _=m.exec(U.slice(F));return _?(w.w=p.get(_[0].toLowerCase()),F+_[0].length):-1}function Ce(w,U,F){var _=h.exec(U.slice(F));return _?(w.w=g.get(_[0].toLowerCase()),F+_[0].length):-1}function De(w,U,F){var _=k.exec(U.slice(F));return _?(w.m=T.get(_[0].toLowerCase()),F+_[0].length):-1}function J(w,U,F){var _=d.exec(U.slice(F));return _?(w.m=y.get(_[0].toLowerCase()),F+_[0].length):-1}function de(w,U,F){return oe(w,t,U,F)}function ae(w,U,F){return oe(w,n,U,F)}function M(w,U,F){return oe(w,r,U,F)}function G(w){return o[w.getDay()]}function ne(w){return l[w.getDay()]}function pe(w){return a[w.getMonth()]}function N(w){return u[w.getMonth()]}function E(w){return i[+(w.getHours()>=12)]}function q(w){return 1+~~(w.getMonth()/3)}function le(w){return o[w.getUTCDay()]}function he(w){return l[w.getUTCDay()]}function He(w){return a[w.getUTCMonth()]}function Le(w){return u[w.getUTCMonth()]}function ve(w){return i[+(w.getUTCHours()>=12)]}function Ue(w){return 1+~~(w.getUTCMonth()/3)}return{format:function(w){var U=C(w+="",S);return U.toString=function(){return w},U},parse:function(w){var U=Q(w+="",!1);return U.toString=function(){return w},U},utcFormat:function(w){var U=C(w+="",A);return U.toString=function(){return w},U},utcParse:function(w){var U=Q(w+="",!0);return U.toString=function(){return w},U}}}var Vn={"-":"",_:" ",0:"0"},ie=/^\s*\d+/,hl=/^%/,gl=/[\\^$*+?|[\]().{}]/g;function W(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",l=i.length;return r+(l<n?new Array(n-l+1).join(t)+i:i)}function ml(e){return e.replace(gl,"\\$&")}function rt(e){return new RegExp("^(?:"+e.map(ml).join("|")+")","i")}function it(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function dl(e,t,n){var r=ie.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _l(e,t,n){var r=ie.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function pl(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vl(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function yl(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Bn(e,t,n){var r=ie.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function zn(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wl(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bl(e,t,n){var r=ie.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Ml(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function jn(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function kl(e,t,n){var r=ie.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Zn(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function xl(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Tl(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Cl(e,t,n){var r=ie.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Dl(e,t,n){var r=ie.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ul(e,t,n){var r=hl.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Sl(e,t,n){var r=ie.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Nl(e,t,n){var r=ie.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Xn(e,t){return W(e.getDate(),t,2)}function El(e,t){return W(e.getHours(),t,2)}function Yl(e,t){return W(e.getHours()%12||12,t,2)}function Al(e,t){return W(1+ht.count(Fe(e),e),t,3)}function Sr(e,t){return W(e.getMilliseconds(),t,3)}function Fl(e,t){return Sr(e,t)+"000"}function Hl(e,t){return W(e.getMonth()+1,t,2)}function Ll(e,t){return W(e.getMinutes(),t,2)}function Ol(e,t){return W(e.getSeconds(),t,2)}function Il(e){var t=e.getDay();return t===0?7:t}function Wl(e,t){return W(St.count(Fe(e)-1,e),t,2)}function Nr(e){var t=e.getDay();return t>=4||t===0?et(e):et.ceil(e)}function Rl(e,t){return e=Nr(e),W(et.count(Fe(e),e)+(Fe(e).getDay()===4),t,2)}function ql(e){return e.getDay()}function Pl(e,t){return W(Dt.count(Fe(e)-1,e),t,2)}function Vl(e,t){return W(e.getFullYear()%100,t,2)}function Bl(e,t){return e=Nr(e),W(e.getFullYear()%100,t,2)}function zl(e,t){return W(e.getFullYear()%1e4,t,4)}function jl(e,t){var n=e.getDay();return e=n>=4||n===0?et(e):et.ceil(e),W(e.getFullYear()%1e4,t,4)}function Zl(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+W(t/60|0,"0",2)+W(t%60,"0",2)}function Qn(e,t){return W(e.getUTCDate(),t,2)}function Xl(e,t){return W(e.getUTCHours(),t,2)}function Ql(e,t){return W(e.getUTCHours()%12||12,t,2)}function Gl(e,t){return W(1+on.count(Be(e),e),t,3)}function Er(e,t){return W(e.getUTCMilliseconds(),t,3)}function Jl(e,t){return Er(e,t)+"000"}function Kl(e,t){return W(e.getUTCMonth()+1,t,2)}function $l(e,t){return W(e.getUTCMinutes(),t,2)}function eo(e,t){return W(e.getUTCSeconds(),t,2)}function to(e){var t=e.getUTCDay();return t===0?7:t}function no(e,t){return W(Ur.count(Be(e)-1,e),t,2)}function Yr(e){var t=e.getUTCDay();return t>=4||t===0?tt(e):tt.ceil(e)}function ro(e,t){return e=Yr(e),W(tt.count(Be(e),e)+(Be(e).getUTCDay()===4),t,2)}function io(e){return e.getUTCDay()}function lo(e,t){return W(Ut.count(Be(e)-1,e),t,2)}function oo(e,t){return W(e.getUTCFullYear()%100,t,2)}function ao(e,t){return e=Yr(e),W(e.getUTCFullYear()%100,t,2)}function uo(e,t){return W(e.getUTCFullYear()%1e4,t,4)}function so(e,t){var n=e.getUTCDay();return e=n>=4||n===0?tt(e):tt.ceil(e),W(e.getUTCFullYear()%1e4,t,4)}function fo(){return"+0000"}function Gn(){return"%"}function Jn(e){return+e}function Kn(e){return Math.floor(+e/1e3)}var Xe,Ar,Fr;co({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function co(e){return Xe=cl(e),Ar=Xe.format,Fr=Xe.parse,Xe.utcFormat,Xe.utcParse,Xe}function ho(e){return new Date(e)}function go(e){return e instanceof Date?+e:+new Date(+e)}function Hr(e,t,n,r,i,l,o,u,a,f){var c=Xi(),h=c.invert,g=c.domain,m=f(".%L"),p=f(":%S"),d=f("%I:%M"),y=f("%I %p"),k=f("%a %d"),T=f("%b %d"),S=f("%B"),A=f("%Y");function K(C){return(a(C)<C?m:u(C)<C?p:o(C)<C?d:l(C)<C?y:r(C)<C?i(C)<C?k:T:n(C)<C?S:A)(C)}return c.invert=function(C){return new Date(h(C))},c.domain=function(C){return arguments.length?g(Array.from(C,go)):g().map(ho)},c.ticks=function(C){var Q=g();return e(Q[0],Q[Q.length-1],C??10)},c.tickFormat=function(C,Q){return Q==null?K:f(Q)},c.nice=function(C){var Q=g();return(!C||typeof C.range!="function")&&(C=t(Q[0],Q[Q.length-1],C??10)),C?g(Qi(Q,C)):c},c.copy=function(){return ji(c,Hr(e,t,n,r,i,l,o,u,a,f))},c}function mo(){return Cr.apply(Hr(sl,fl,Fe,an,St,ht,ln,rn,Je,Ar).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qe(e){return function(){return e}}function _o(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Ri(t)}function po(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Lr(e){this._context=e}Lr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vo(e){return new Lr(e)}function yo(e){return e[0]}function wo(e){return e[1]}function $n(e,t){var n=Qe(!0),r=null,i=vo,l=null,o=_o(u);e=typeof e=="function"?e:e===void 0?yo:Qe(e),t=typeof t=="function"?t:t===void 0?wo:Qe(t);function u(a){var f,c=(a=po(a)).length,h,g=!1,m;for(r==null&&(l=i(m=o())),f=0;f<=c;++f)!(f<c&&n(h=a[f],f,a))===g&&((g=!g)?l.lineStart():l.lineEnd()),g&&l.point(+e(h,f,a),+t(h,f,a));if(m)return l=null,m+""||null}return u.x=function(a){return arguments.length?(e=typeof a=="function"?a:Qe(+a),u):e},u.y=function(a){return arguments.length?(t=typeof a=="function"?a:Qe(+a),u):t},u.defined=function(a){return arguments.length?(n=typeof a=="function"?a:Qe(!!a),u):n},u.curve=function(a){return arguments.length?(i=a,r!=null&&(l=i(r)),u):i},u.context=function(a){return arguments.length?(a==null?r=l=null:l=i(r=a),u):r},u}function Or(e){this._context=e}Or.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=er(e),i=er(t),l=0,o=1;o<n;++l,++o)this._context.bezierCurveTo(r[0][l],i[0][l],r[1][l],i[1][l],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function er(e){var t,n=e.length-1,r,i=new Array(n),l=new Array(n),o=new Array(n);for(i[0]=0,l[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,l[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,l[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/l[t-1],l[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/l[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/l[t];for(l[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-i[t+1];return[i,l]}function tr(e){return new Or(e)}function ot(e,t,n){this.k=e,this.x=t,this.y=n}ot.prototype={constructor:ot,scale:function(e){return e===1?this:new ot(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ot(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ot.prototype;function nr(e,t,n){const r=e.slice();return r[34]=t[n],r[36]=n,r}function rr(e,t,n){const r=e.slice();return r[34]=t[n],r[36]=n,r}function ir(e,t,n){const r=e.slice();return r[38]=t[n],r[36]=n,r}function lr(e,t,n){const r=e.slice();return r[40]=t[n],r[36]=n,r}function or(e,t,n){const r=e.slice();return r[42]=t[n],r}function ar(e){let t,n=e[42].display_title+"",r;return{c(){t=P("option"),r=ee(n),this.h()},l(i){t=V(i,"OPTION",{});var l=Y(t);r=te(l,n),l.forEach(b),this.h()},h(){t.__value=e[42].display_title,t.value=t.__value},m(i,l){z(i,t,l),x(t,r)},p:Wt,d(i){i&&b(t)}}}function bo(e){let t,n=at,r=[];for(let i=0;i<n.length;i+=1)r[i]=ar(or(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=xe()},l(i){for(let l=0;l<r.length;l+=1)r[l].l(i);t=xe()},m(i,l){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,l);z(i,t,l)},p(i,l){if(l&0){n=at;let o;for(o=0;o<n.length;o+=1){const u=or(i,n,o);r[o]?r[o].p(u,l):(r[o]=ar(u),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){We(r,i),i&&b(t)}}}function ur(e){let t,n,r,i,l,o=(100*e[40]).toFixed(0)+"",u,a,f,c,h,g;return{c(){t=Z("line"),l=Z("text"),u=ee(o),a=ee("%"),c=Z("line"),this.h()},l(m){t=X(m,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),Y(t).forEach(b),l=X(m,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var p=Y(l);u=te(p,o),a=te(p,"%"),p.forEach(b),c=X(m,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),Y(c).forEach(b),this.h()},h(){s(t,"class","grid svelte-tqmeai"),s(t,"x1",40),s(t,"y1",n=e[13].bottom+e[36]*e[10]),s(t,"x2",r=e[2]-e[13].right),s(t,"y2",i=e[13].bottom+e[36]*e[10]),s(l,"class","axis-label svelte-tqmeai"),s(l,"x",e[13].left+25),s(l,"y",f=e[13].bottom+e[36]*e[10]),s(l,"text-anchor","end"),s(c,"class","grid-white svelte-tqmeai"),s(c,"x1","37"),s(c,"y1",h=e[13].bottom+e[36]*e[10]),s(c,"x2","45"),s(c,"y2",g=e[13].bottom+e[36]*e[10])},m(m,p){z(m,t,p),z(m,l,p),x(l,u),x(l,a),z(m,c,p)},p(m,p){p[0]&1024&&n!==(n=m[13].bottom+m[36]*m[10])&&s(t,"y1",n),p[0]&4&&r!==(r=m[2]-m[13].right)&&s(t,"x2",r),p[0]&1024&&i!==(i=m[13].bottom+m[36]*m[10])&&s(t,"y2",i),p[0]&16&&o!==(o=(100*m[40]).toFixed(0)+"")&&Ve(u,o),p[0]&1024&&f!==(f=m[13].bottom+m[36]*m[10])&&s(l,"y",f),p[0]&1024&&h!==(h=m[13].bottom+m[36]*m[10])&&s(c,"y1",h),p[0]&1024&&g!==(g=m[13].bottom+m[36]*m[10])&&s(c,"y2",g)},d(m){m&&b(t),m&&b(l),m&&b(c)}}}function sr(e){let t,n=e[15](e[38])+"",r,i,l,o,u,a,f;return{c(){t=Z("text"),r=ee(n),o=Z("line"),this.h()},l(c){t=X(c,"text",{style:!0,class:!0,x:!0,y:!0,"text-anchor":!0});var h=Y(t);r=te(h,n),h.forEach(b),o=X(c,"line",{class:!0,x1:!0,y1:!0,x2:!0,y2:!0}),Y(o).forEach(b),this.h()},h(){lt(t,"white-space","pre"),s(t,"class","axis-label svelte-tqmeai"),s(t,"x",i=e[5](e[38])),s(t,"y",l=e[3]+15),s(t,"text-anchor","end"),s(o,"class","grid-white svelte-tqmeai"),s(o,"x1",u=e[5](e[38])),s(o,"y1",e[3]),s(o,"x2",a=e[5](e[38])),s(o,"y2",f=e[3]-8)},m(c,h){z(c,t,h),x(t,r),z(c,o,h)},p(c,h){h[0]&128&&n!==(n=c[15](c[38])+"")&&Ve(r,n),h[0]&160&&i!==(i=c[5](c[38]))&&s(t,"x",i),h[0]&8&&l!==(l=c[3]+15)&&s(t,"y",l),h[0]&160&&u!==(u=c[5](c[38]))&&s(o,"x1",u),h[0]&8&&s(o,"y1",c[3]),h[0]&160&&a!==(a=c[5](c[38]))&&s(o,"x2",a),h[0]&8&&f!==(f=c[3]-8)&&s(o,"y2",f)},d(c){c&&b(t),c&&b(o)}}}function Mo(e){let t,n,r;return{c(){t=Z("path"),this.h()},l(i){t=X(i,"path",{d:!0,"stroke-width":!0,stroke:!0,fill:!0}),Y(t).forEach(b),this.h()},h(){s(t,"d",n=$n().x(e[22]).y(e[23]).curve(tr)(e[34].flat())),s(t,"stroke-width","2"),s(t,"stroke",r=e[6][e[34][0].display_title].colour),s(t,"fill","transparent")},m(i,l){z(i,t,l)},p(i,l){l[0]&554&&n!==(n=$n().x(i[22]).y(i[23]).curve(tr)(i[34].flat()))&&s(t,"d",n),l[0]&66&&r!==(r=i[6][i[34][0].display_title].colour)&&s(t,"stroke",r)},d(i){i&&b(t)}}}function fr(e){let t,n=e[12]&&Mo(e);return{c(){n&&n.c(),t=xe()},l(r){n&&n.l(r),t=xe()},m(r,i){n&&n.m(r,i),z(r,t,i)},p(r,i){r[12]&&n.p(r,i)},d(r){n&&n.d(r),r&&b(t)}}}function cr(e){let t,n,r,i,l,o,u,a,f;function c(...m){return e[24](e[34],...m)}function h(...m){return e[25](e[34],...m)}function g(...m){return e[26](e[34],...m)}return u=new Cn({props:{labels:e[34][0].display_title,values:Math.floor(e[34].find(h).rolling_avg*100)+"%",x:e[8].x+180>e[2]?e[8].x-195:e[8].x+15,y:e[14](e[9],e[3],e[34][0].display_title,e[8].x,e[34].find(g).rolling_avg),backgroundColor:e[6][e[34][0].display_title].colour,textColor:e[6][e[34][0].display_title].text,title:void 0,width:"180",adaptTexts:!1}}),a=new Cn({props:{labels:"Week of",values:e[18](e[0],e[8].x).toLocaleString(void 0,e[11]),title:void 0,x:e[8].x+180>e[2]?e[8].x-205:e[8].x+5,y:0,backgroundColor:"#191919",opacity:"0.5",textColor:"white",width:"200",adaptTexts:!1}}),{c(){t=Z("g"),n=Z("line"),r=Z("circle"),vt(u.$$.fragment),vt(a.$$.fragment),this.h()},l(m){t=X(m,"g",{transform:!0});var p=Y(t);n=X(p,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),Y(n).forEach(b),r=X(p,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),Y(r).forEach(b),p.forEach(b),yt(u.$$.fragment,m),yt(a.$$.fragment,m),this.h()},h(){s(n,"x1",0),s(n,"y1","10"),s(n,"x2",0),s(n,"y2",e[3]),s(n,"stroke","grey"),s(n,"stroke-width","1"),s(r,"cx",0),s(r,"cy",i=Zt(e[9],e[3],e[34].find(c).rolling_avg)+e[13].bottom),s(r,"r","5"),s(r,"fill",l=e[6][e[34][0].display_title].colour),s(t,"transform",o="translate("+e[5](e[18](e[34],e[8].x))+" 0)")},m(m,p){z(m,t,p),x(t,n),x(t,r),wt(u,m,p),wt(a,m,p),f=!0},p(m,p){e=m,(!f||p[0]&8)&&s(n,"y2",e[3]),(!f||p[0]&778&&i!==(i=Zt(e[9],e[3],e[34].find(c).rolling_avg)+e[13].bottom))&&s(r,"cy",i),(!f||p[0]&66&&l!==(l=e[6][e[34][0].display_title].colour))&&s(r,"fill",l),(!f||p[0]&290&&o!==(o="translate("+e[5](e[18](e[34],e[8].x))+" 0)"))&&s(t,"transform",o);const d={};p[0]&2&&(d.labels=e[34][0].display_title),p[0]&258&&(d.values=Math.floor(e[34].find(h).rolling_avg*100)+"%"),p[0]&260&&(d.x=e[8].x+180>e[2]?e[8].x-195:e[8].x+15),p[0]&778&&(d.y=e[14](e[9],e[3],e[34][0].display_title,e[8].x,e[34].find(g).rolling_avg)),p[0]&66&&(d.backgroundColor=e[6][e[34][0].display_title].colour),p[0]&66&&(d.textColor=e[6][e[34][0].display_title].text),u.$set(d);const y={};p[0]&257&&(y.values=e[18](e[0],e[8].x).toLocaleString(void 0,e[11])),p[0]&260&&(y.x=e[8].x+180>e[2]?e[8].x-205:e[8].x+5),a.$set(y)},i(m){f||(we(u.$$.fragment,m),we(a.$$.fragment,m),f=!0)},o(m){Ne(u.$$.fragment,m),Ne(a.$$.fragment,m),f=!1},d(m){m&&b(t),bt(u,m),bt(a,m)}}}function hr(e){let t,n,r=e[8].x!==null&&cr(e);return{c(){r&&r.c(),t=xe()},l(i){r&&r.l(i),t=xe()},m(i,l){r&&r.m(i,l),z(i,t,l),n=!0},p(i,l){i[8].x!==null?r?(r.p(i,l),l[0]&256&&we(r,1)):(r=cr(i),r.c(),we(r,1),r.m(t.parentNode,t)):r&&(_r(),Ne(r,1,1,()=>{r=null}),dr())},i(i){n||(we(r),n=!0)},o(i){Ne(r),n=!1},d(i){r&&r.d(i),i&&b(t)}}}function ko(e){let t,n,r,i,l,o,u,a,f,c,h,g,m,p,d,y,k,T,S,A,K,C,Q,oe,_e,ce,Ce,De,J,de,ae,M,G,ne,pe,N,E,q,le,he,He,Le,ve,Ue,w,U,F;t=new jr({}),pe=new Jr({props:{id:"options-cities",value:["Toronto, ON","Chicago, IL","Detroit, MI","Baltimore, MD","New York, NY","Los Angeles, CA","San Francisco, CA","Atlanta, GA","Miami, FL","Austin, TX","Las Vegas, NV"],$$slots:{default:[bo]},$$scope:{ctx:e}}});let _=e[4].reverse(),I=[];for(let v=0;v<_.length;v+=1)I[v]=ur(lr(e,_,v));let L=e[7],R=[];for(let v=0;v<L.length;v+=1)R[v]=sr(ir(e,L,v));let $=e[1],B=[];for(let v=0;v<$.length;v+=1)B[v]=fr(rr(e,$,v));let Me=e[1],j=[];for(let v=0;v<Me.length;v+=1)j[v]=hr(nr(e,Me,v));const Ir=v=>Ne(j[v],1,1,()=>{j[v]=null});return{c(){vt(t.$$.fragment),n=se(),r=P("main"),i=P("div"),l=P("h1"),o=ee("Downtown Recovery Patterns"),u=se(),a=P("p"),f=ee("The recovery metrics on these charts are based on a sample of mobile phone data."),c=se(),h=P("p"),g=ee("They are computed by counting the number of unique mobile phones in a city's downtown area in the specified time period, and then dividing it by the number of unique visitors during the equivalent time period in 2019."),m=se(),p=P("p"),d=ee("Each data point on this chart is an 11-week rolling average, with the noted date as the end-point of its range."),y=se(),k=P("p"),T=ee("A recovery metric greater than 100% means that for the selected inputs, the mobile device activity increased relative to the comparison period. A value less than 100% means the opposite, that the city's downtown has not recovered to pre-COVID activity levels."),S=se(),A=P("p"),K=ee("For more information, read our "),C=P("a"),Q=ee("Methodology"),oe=ee(" page. Or click "),_e=P("a"),ce=ee("here"),Ce=ee(" to download the data shown on this chart."),De=se(),J=P("div"),de=P("div"),ae=P("div"),M=P("p"),G=ee("Select City:"),ne=se(),vt(pe.$$.fragment),N=se(),E=Z("svg");for(let v=0;v<I.length;v+=1)I[v].c();q=Z("line"),he=Z("line");for(let v=0;v<R.length;v+=1)R[v].c();He=xe();for(let v=0;v<B.length;v+=1)B[v].c();Le=xe();for(let v=0;v<j.length;v+=1)j[v].c();this.h()},l(v){yt(t.$$.fragment,v),n=fe(v),r=V(v,"MAIN",{class:!0});var O=Y(r);i=V(O,"DIV",{class:!0});var H=Y(i);l=V(H,"H1",{});var D=Y(l);o=te(D,"Downtown Recovery Patterns"),D.forEach(b),u=fe(H),a=V(H,"P",{});var ge=Y(a);f=te(ge,"The recovery metrics on these charts are based on a sample of mobile phone data."),ge.forEach(b),c=fe(H),h=V(H,"P",{});var un=Y(h);g=te(un,"They are computed by counting the number of unique mobile phones in a city's downtown area in the specified time period, and then dividing it by the number of unique visitors during the equivalent time period in 2019."),un.forEach(b),m=fe(H),p=V(H,"P",{});var sn=Y(p);d=te(sn,"Each data point on this chart is an 11-week rolling average, with the noted date as the end-point of its range."),sn.forEach(b),y=fe(H),k=V(H,"P",{});var fn=Y(k);T=te(fn,"A recovery metric greater than 100% means that for the selected inputs, the mobile device activity increased relative to the comparison period. A value less than 100% means the opposite, that the city's downtown has not recovered to pre-COVID activity levels."),fn.forEach(b),S=fe(H),A=V(H,"P",{});var Ze=Y(A);K=te(Ze,"For more information, read our "),C=V(Ze,"A",{href:!0});var cn=Y(C);Q=te(cn,"Methodology"),cn.forEach(b),oe=te(Ze," page. Or click "),_e=V(Ze,"A",{href:!0});var hn=Y(_e);ce=te(hn,"here"),hn.forEach(b),Ce=te(Ze," to download the data shown on this chart."),Ze.forEach(b),H.forEach(b),De=fe(O),J=V(O,"DIV",{id:!0,class:!0});var gt=Y(J);de=V(gt,"DIV",{id:!0,class:!0});var gn=Y(de);ae=V(gn,"DIV",{id:!0,class:!0});var mt=Y(ae);M=V(mt,"P",{});var mn=Y(M);G=te(mn,"Select City:"),mn.forEach(b),ne=fe(mt),yt(pe.$$.fragment,mt),mt.forEach(b),gn.forEach(b),N=fe(gt),E=X(gt,"svg",{height:!0,width:!0,id:!0,transform:!0,class:!0});var Oe=Y(E);for(let ue=0;ue<I.length;ue+=1)I[ue].l(Oe);q=X(Oe,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),Y(q).forEach(b),he=X(Oe,"line",{x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),Y(he).forEach(b);for(let ue=0;ue<R.length;ue+=1)R[ue].l(Oe);He=xe();for(let ue=0;ue<B.length;ue+=1)B[ue].l(Oe);Le=xe();for(let ue=0;ue<j.length;ue+=1)j[ue].l(Oe);Oe.forEach(b),gt.forEach(b),O.forEach(b),this.h()},h(){s(C,"href","/methodology"),s(_e,"href","/pattern_data.csv"),s(i,"class","text"),s(ae,"id","options-cities"),s(ae,"class","svelte-tqmeai"),s(de,"id","options"),s(de,"class","svelte-tqmeai"),s(q,"x1",e[13].left+40),s(q,"x2",le=e[2]-e[13].right),s(q,"y1",e[3]),s(q,"y2",e[3]),s(q,"stroke","white"),s(q,"stroke-width","1"),s(he,"x1",e[13].left+40),s(he,"x2",e[13].left+40),s(he,"y1",e[13].top),s(he,"y2",e[3]),s(he,"stroke","white"),s(he,"stroke-width","1"),s(E,"height",ve=e[3]+40),s(E,"width",e[2]),s(E,"id","chart"),s(E,"transform","translate("+e[13].left+", "+e[13].top+")"),s(E,"class","svelte-tqmeai"),s(J,"id","chart-wrapper"),s(J,"class","svelte-tqmeai"),Br(()=>e[27].call(J)),s(r,"class","svelte-tqmeai")},m(v,O){wt(t,v,O),z(v,n,O),z(v,r,O),x(r,i),x(i,l),x(l,o),x(i,u),x(i,a),x(a,f),x(i,c),x(i,h),x(h,g),x(i,m),x(i,p),x(p,d),x(i,y),x(i,k),x(k,T),x(i,S),x(i,A),x(A,K),x(A,C),x(C,Q),x(A,oe),x(A,_e),x(_e,ce),x(A,Ce),x(r,De),x(r,J),x(J,de),x(de,ae),x(ae,M),x(M,G),x(ae,ne),wt(pe,ae,null),x(J,N),x(J,E);for(let H=0;H<I.length;H+=1)I[H]&&I[H].m(E,null);x(E,q),x(E,he);for(let H=0;H<R.length;H+=1)R[H]&&R[H].m(E,null);x(E,He);for(let H=0;H<B.length;H+=1)B[H]&&B[H].m(E,null);x(E,Le);for(let H=0;H<j.length;H+=1)j[H]&&j[H].m(E,null);Ue=zr(J,e[27].bind(J)),w=!0,U||(F=[qe(E,"mousemove",e[16]),qe(E,"mouseleave",e[17])],U=!0)},p(v,O){const H={};if(O[1]&16384&&(H.$$scope={dirty:O,ctx:v}),pe.$set(H),O[0]&9236){_=v[4].reverse();let D;for(D=0;D<_.length;D+=1){const ge=lr(v,_,D);I[D]?I[D].p(ge,O):(I[D]=ur(ge),I[D].c(),I[D].m(E,q))}for(;D<I.length;D+=1)I[D].d(1);I.length=_.length}if((!w||O[0]&4&&le!==(le=v[2]-v[13].right))&&s(q,"x2",le),(!w||O[0]&8)&&s(q,"y1",v[3]),(!w||O[0]&8)&&s(q,"y2",v[3]),(!w||O[0]&8)&&s(he,"y2",v[3]),O[0]&32936){L=v[7];let D;for(D=0;D<L.length;D+=1){const ge=ir(v,L,D);R[D]?R[D].p(ge,O):(R[D]=sr(ge),R[D].c(),R[D].m(E,He))}for(;D<R.length;D+=1)R[D].d(1);R.length=L.length}if(O[0]&12906){$=v[1];let D;for(D=0;D<$.length;D+=1){const ge=rr(v,$,D);B[D]?B[D].p(ge,O):(B[D]=fr(ge),B[D].c(),B[D].m(E,Le))}for(;D<B.length;D+=1)B[D].d(1);B.length=$.length}if(O[0]&289647){Me=v[1];let D;for(D=0;D<Me.length;D+=1){const ge=nr(v,Me,D);j[D]?(j[D].p(ge,O),we(j[D],1)):(j[D]=hr(ge),j[D].c(),we(j[D],1),j[D].m(E,null))}for(_r(),D=Me.length;D<j.length;D+=1)Ir(D);dr()}(!w||O[0]&8&&ve!==(ve=v[3]+40))&&s(E,"height",ve),(!w||O[0]&4)&&s(E,"width",v[2])},i(v){if(!w){we(t.$$.fragment,v),we(pe.$$.fragment,v);for(let O=0;O<Me.length;O+=1)we(j[O]);w=!0}},o(v){Ne(t.$$.fragment,v),Ne(pe.$$.fragment,v),j=j.filter(Boolean);for(let O=0;O<j.length;O+=1)Ne(j[O]);w=!1},d(v){bt(t,v),v&&b(n),v&&b(r),bt(pe),We(I,v),We(R,v),We(B,v),We(j,v),Ue(),U=!1,mr(F)}}}function gr(e,t){let n=[];for(let r=0;r<=Math.ceil(e/t);r++)n.push(r*t);return n}function Zt(e,t,n){return t-t*n/(e[1]-e[0])}function xo(e,t,n){let r,i,l,o;It(e,vr,N=>n(21,l=N)),It(e,pr,N=>n(29,o=N));let u=[],a=[],f={year:"numeric",month:"long",day:"numeric"},c=[],h=[];at.forEach(N=>{o.forEach(E=>{N.region===E.name&&n(6,c[N.display_title]={colour:E.colour,text:E.text},c)})});const g=o,m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];async function p(){try{const E=await(await fetch("../pattern_data.csv")).text();n(0,u=Zr(E).filter(q=>!["Dallas, TX","Orlando, FL","Oklahoma City, OK"].includes(q.display_title))),u.forEach(q=>{q.week=Fr("%Y-%m-%d")(q.week),q.week=new Date(q.week)})}catch(N){console.error("Error loading CSV data:",N)}}Jt(()=>{p()}),console.log(h);let d={top:10,bottom:40,left:10,right:30},y,k=640,T=1,S=[0,1],A,K;function C(N){return Nt(N.map(E=>E.week))}function Q(N,E,q,le,he){a.length;let He=Nt(a.flat().filter(U=>A(U.week)>=le).map(U=>U.week)),Le=a.flat().filter(U=>U.week<=He[0]&&A(U.week)>=le).sort((U,F)=>F.rolling_avg-U.rolling_avg);var ve=[];Le.forEach(U=>ve.push(U));for(var Ue=0;Ue<ve.length;Ue++)ve[Ue].rank=30+(Ue+1)*30;return Dr().domain(ve.map(U=>U.display_title)).range(ve.map(U=>U.rank))(q)}let oe;function _e(N){return m[N.getMonth()]+`
20`+N.getYear().toString().substring(N.getYear(),1)}let ce={x:null,y:null};function Ce(N){const E=document.getElementById("chart");if(E===null)return;const q=E.getBoundingClientRect(),le={x:N.clientX-q.left,y:N.clientY-q.top};n(8,ce=le.x>d.left&&le.x<y-d.right&&le.y>d.top&&le.y<k-d.bottom?{x:le.x,y:le.y}:{x:null,y:null})}function De(){n(8,ce={x:null,y:null})}function J(N,E){return N.filter(q=>A(q.week)>=E)[0].week}const de=N=>A(N.week),ae=N=>Zt(i,k,N.rolling_avg)+d.bottom,M=(N,E)=>E.week===J(N,ce.x),G=(N,E)=>E.week===J(N,ce.x),ne=(N,E)=>E.week===J(N,ce.x);function pe(){y=this.offsetWidth,n(2,y)}return e.$$.update=()=>{e.$$.dirty[0]&2097153&&n(1,a=Array.from(si(u.filter(N=>N.metric==="downtown"&&l.includes(N.display_title)).sort((N,E)=>N.week-E.week),N=>N.display_title)).map(N=>N[1])),e.$$.dirty[0]&1&&(h=Nt(u.filter(N=>N.metric==="downtown").sort((N,E)=>N.rolling_avg-E.rolling_avg).map(N=>1*N.rolling_avg))),e.$$.dirty[0]&4&&n(3,k=y*.666),e.$$.dirty[0]&2&&n(19,T=a.length!==0?a.flat().sort((N,E)=>E.rolling_avg-N.rolling_avg)[0].rolling_avg:1),e.$$.dirty[0]&524288&&n(19,T=T<1?1:T),e.$$.dirty[0]&524288&&(T<2?n(4,S=gr(T,.2)):n(4,S=gr(T,.5))),e.$$.dirty[0]&24&&n(10,r=(k-d.bottom)/(S.length-1)),e.$$.dirty[0]&16&&n(9,i=[Math.min(...S),Math.max(...S)]),e.$$.dirty[0]&1&&console.log(u),e.$$.dirty[0]&5&&n(5,A=mo().domain(C(u)).range([d.left+40,y-d.right])),e.$$.dirty[0]&4&&n(20,oe=Math.floor(y/120)),e.$$.dirty[0]&1048576&&console.log(oe),e.$$.dirty[0]&1048608&&n(7,K=A.ticks(oe)),e.$$.dirty[0]&1&&console.log(C(u))},[u,a,y,k,S,A,c,K,ce,i,r,f,g,d,Q,_e,Ce,De,J,T,oe,l,de,ae,M,G,ne,pe]}class So extends Xt{constructor(t){super(),Qt(this,t,xo,ko,Gt,{},null,[-1,-1])}}export{So as component,Uo as universal};
